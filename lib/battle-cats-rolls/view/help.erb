<%= header(1, 'What is this?') %>
<p class="section">
  This is a simulator rolling the rare gacha (rare cat capsule) for
  Battle Cats. With the simulator, you can look into the future to
  predict and track your future rolling results.
</p>

<ol>
  <li>Every game save has a <strong>seed</strong> number used to calculate the rolling result</li>
  <li>The seed number will only change if you roll the rare gacha</li>
  <li>We can observe the rolling results and figure out your seed for your game save</li>
  <li>The simulator is able to use the seed to calculate all the future rolling results</li>
</ol>

<%= header(1, 'How to use') %>
<p class="section">
  First, you'll want to find your current seed.
</p>

<%= header(2, %Q{<a href="#{seek_uri}">Seek the seed</a>}) %>
<ol>
  <li>
    Before you hit <em>seek</em>, follow these steps:
    <ol>
      <li>Pick a gacha event (e.g. <em>Ultra Souls</em> or <em>Uberfest</em>). Use your rare (gold) tickets or cat food. Both work the same</li>
      <li>Roll several times. Preferably 7 to 10 rolls. Record the results. The more rolls you made, the more accurate the result will be</li>
      <li>Fill the results at seed seeking</a> in the respective rolling order. Make sure you pick the gacha event you rolled with</li>
      <li>
        If you made a 11-rolls with a guaranteed event, or a 15-rolls (3+5+7) with step-up event:
        <ol>
          <li><em>Don't fill</em> your last <a href="#what-is-a-guaranteed-uber">guaranteed uber</a> in the form</li>
          <li>Fill the last 10 rolls without the last guaranteed uber</li>
          <li>We'll need to accommodate this when reading your result because you <em>didn't fill</em> the last roll in the form. We need to count the offset. More on this below</li>
        </ol>
      </li>
      <li><em>Avoid gacha events</em> having duplicated cats (e.g. <em>Metal Busters</em> or <em>Best of the Best</em>). If you did, you'll need to trial and error to find the correct one, because we can't tell which one you actually rolled. You can only try them one by one</li>
    </ol>
  </li>
  <li>
    Understand the results:
    <ol>
      <li>If everything is correct, you'll get the <strong>seed</strong> number, and two links</li>
      <li>The <em>first link</em> is using your starting seed for reference and debugging purpose, which shows the status <em>before</em> you rolled</li>
      <li>The <em>second link</em> is using your last seed, which shows you the current status, <em>after</em> you rolled</li>
      <li>If you didn't roll any <a href="#what-is-a-guaranteed-event">guaranteed events</a>, you start at <strong>1A</strong> in the <em>second link</em></li>
      <li>
        If you made a 11-rolls with a guaranteed event, or a 15-rolls (3+5+7) with step-up event:
        <ul>
          <li>
            Since you <em>didn't fill</em> your last <a href="#what-is-a-guaranteed-uber">guaranteed uber</a> in the form, we'll need to accommodate this. There are several ways to accommodate this:
            <ul>
              <li>
                If you don't care about the actual seed number, then you start at <strong>1B</strong> in the <em>second link</em>. If you want to know your actual seed number:
                <ol>
                  <li>You can use the <em>second link</em>, which shows the status <em>after</em> you rolled, except the last guaranteed uber. Check the <strong>Details</strong> checkbox, and your actual seed number should be the first half of <strong>1A</strong> because a guaranteed uber counts as a half roll. You can copy and paste your actual seed number to the seed input field to update your position. If you did, you'll find that your new <strong>1A</strong> is exactly the same as the old <strong>1B</strong></li>
                  <li>If you made a 11-rolls, you can also use the <em>first link</em>, which shows the status <em>before</em> you rolled, and click on the guaranteed uber link in <strong>1A</strong> showing <strong>-&gt; 11B</strong>, simulating your exact 11-rolls, leading to where you are now. You start at <strong>1A</strong> in the new page, which should be the same as the <strong>1B</strong> in the <em>second link</em></li>
                </ol>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ol>
  </li>
</ol>

<%= header(2, 'Read the tracks') %>
<ul>
  <li>Using the link, you'll see a table looks like below.</li>
  <li>Suppose you start at <strong>1A</strong>, then your next roll with rare ticket or cat food will be the cat located in 1A. It's a rare cat (<strong>1A rare cat</strong>) in this case.</li>
  <li>Your next roll will be located at <strong>2A</strong>, which is a super rare cat (<strong>2A supa cat</strong>).</li>
</ul>

<%= erb :table, cats: arg[:help].read_the_tracks %>

<%= header(2, 'Advance the tracks') %>
<ul>
  <li>You can click on the cat's name, which will simulate that you rolled to that cat.</li>
  <li>Following the above example, let's click on the cat's name at 2A (i.e. <strong>2A supa cat</strong>) to simulate that you rolled to that cat. This will lead you to a table looks like below.</li>
  <li>You can see that you advanced two rows. Previously <strong>3A rare cat</strong> was located at 3A, now it's located at 1A. This helps you record where you are at now.</li>
</ul>

<%= erb :table, cats: arg[:help].advance_the_tracks %>

<%= header(2, "Look up cat's data") %>
<ul>
  <li>You can click on <strong>🐾</strong> beside the cat's name, which will show you the cat's data.</li>
</ul>
<%= erb :table, cats: arg[:help].lookup_cat_data(gacha) %>

<%= header(2, 'What is a guaranteed event') %>
<ul>
  <li>There are two kinds of guaranteed events.</li>
  <li>One is 11 continuous rolls with 1500 cat food, which the 11st roll will be 100% uber regardless previous rolls, meaning that even if you rolled an uber cat earlier, the 11st will still be an uber cat.</li>
  <li>The other one is 3+5+7 (15) step up events, or increasing capsules, which you first use 300 cat food to roll 3 times continuously, and then 750 cat food to roll 5 times continuously, and finally 1050 cat food to roll 7 times continuously. In total 15 (3+5+7) rolls. Similar to 11 rolls guaranteed events, the last 15th roll will be 100% uber.</li>
  <li>Platinum gacha with platinum tickets for 100% uber <strong>IS NOT</strong> a guaranteed event. Only 11 rolls or 15 rolls can be a guaranteed event.</li>
</ul>

<%= header(2, 'What is a guaranteed uber') %>
<ul>
  <li>A guaranteed uber is the last roll with 11 or 15 rolls in a guaranteed event.</li>
  <li>Even if you rolled an uber as the last roll, if it's not rolled in a guaranteed event, it's not a guaranteed uber.</li>
</ul>

<%= header(2, 'Read the guaranteed tracks') %>
<ul>
  <li>Ubers listed on the guaranteed column are the guaranteed ubers.</li>
  <li>Guaranteed ubers will only be displayed if we're looking at a guaranteed event.</li>
  <li>Here if you make 11 guaranteed rolls, you'll get 1A ~ 10A and lastly 1A guaranteed uber, totally 11 cats.</li>
</ul>

<%= erb :table, cats: arg[:help].guaranteed_tracks %>

<%= header(2, 'Highlight rolls') %>
<ul>
  <li>You can click on the cells, and it'll highlight the cats you'll roll.</li>
  <li>Here we click on the 1A guaranteed uber, and it'll <span class="picked_cumulatively">highlight</span> 1A ~ 10A + 1A guaranteed uber.</li>
  <li>And <strong>11B</strong> will also be <span class="next_position">highlighted</span> in a zebra color, indicating your next position after the 11 rolls.</li>
  <li>This will lead to the next topic: <a href="#switch-tracks">Switch tracks</a>.</li>
</ul>

<%= erb :table, cats: arg[:help].guaranteed_tracks, pick: '1AG' %>

<%= header(2, 'Switch tracks') %>
<ul>
  <li>Switching tracks will happen whenever you made any guaranteed rolls in a <a href="#what-is-a-guaranteed-event">guaranteed event</a>.</li>
  <li>To be added</li>
</ul>

<%= header(1, 'How this works') %>
<p class="section">
  🐾🐾🐾🐾🐾 Place holder 🐾🐾🐾🐾🐾
</p>

<%= header(1, 'How this was implemented') %>
<p class="section">
  🐾🐾🐾🐾🐾 Place holder 🐾🐾🐾🐾🐾
</p>

<%= header(1, 'Glossary') %>
<ul>
  <li>Seed</li>
</ul>

<%= header(1, 'Table notes') %>
<%= erb :table_notes %>
