<% if route.path_info.match?(%r{\A/(?:cats(?:/\d+)?|logs|seek)?\z}) %>
<div class="options">
  <%= partial :language %>

  <% if route.path_info.match?(%r{\A/cats/\d+\z}) %>
    <label for="level_input">Level:</label>
    <input
      type="number" id="level_input" name="level"
      value="<%= arg[:level] %>"
      min="1"
      max="<%= arg.dig(:cat_data, 'max_level') %>"
      onclick="this.select()">

    <div class="growth">
      Growth rate:
      <%= growth_rate(arg.dig(:cat_data, 'growth')) %>
    </div>
  <% end %>

  <% if route.path_info.match?(%r{\A/(?:seek)?\z}) %>
  <label for="version_select">Version:</label>
  <select id="version_select" name="version" onchange="roll(this)">
    <% if route.path_info == '/seek' %>
      <option value="8.6">8.6+ (forgothowtoreddid)</option>
    <% else %>
      <option value="8.6" <%= selected_version('8.6') %>>8.6+</option>
    <% end %>
    <option value="8.5" <%= selected_version('8.5') %>>8.5</option>
    <option value="8.4" <%= selected_version('8.4') %>>8.4</option>
  </select>
  <% else %>
  <%= hidden_inputs('version') %>
  <% end %>

  <% if route.path_info != '/logs' && !route.path_info.start_with?('/cats/') %>
  <label for="name_select">Name:</label>
  <select id="name_select" name="name" onchange="roll(this)">
    <option value="0" <%= selected_name(0) %>>Base</option>
    <option value="1" <%= selected_name(1) %>>Evolved</option>
    <option value="2" <%= selected_name(2) %>>True</option>
  </select>
  <% else %>
  <%= hidden_inputs('name') %>
  <% end %>

  <% if route.path_info == '/' %>
  <label for="theme_select">Theme:</label>
  <select id="theme_select" name="theme" onchange="roll(this)">
    <option value="" <%= selected_theme('') %>>Default</option>
    <option value="mkweb" <%= selected_theme('mkweb') %>>mkweb</option>
  </select>
  <% else %>
  <%= hidden_inputs('theme') %>
  <% end %>

</div>
<% else %>
<%= hidden_inputs('lang', 'version', 'name') %>
<% end %>

<%= hidden_inputs('o') %>
