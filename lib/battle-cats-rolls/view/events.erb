<% if controller.path_info.match?(%r{\A/(?:seek)?\z}) %>
<div class="events">
  <label for="event_select">Event:</label>
  <select id="event_select" name="event" onchange="roll(this)">
    <optgroup label="Upcoming:">
      <% controller.upcoming_events.each do |(event_name, info)| %>
        <option
          value="<%= event_name %>"
          <%= selected_current_event(event_name) %>>
            <%= show_event(info) %></option>
      <% end %>
    </optgroup>

    <optgroup label="Past:">
      <% controller.past_events.reverse_each do |(event_name, info)| %>
        <option
          value="<%= event_name %>"
          <%= selected_current_event(event_name) %>>
            <%= show_event(info) %></option>
      <% end %>
    </optgroup>
  </select>
</div>
<% else %>
<%= hidden_inputs('event') %>
<% end %>
